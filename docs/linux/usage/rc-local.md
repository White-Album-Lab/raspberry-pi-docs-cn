# rc.local

为了在树莓派启动时运行命令或程序，您可以将命令添加到`rc.local`文件中。如果您希望能够将树莓派插入无头电源，并让它运行无需配置或手动启动的程序，则此功能特别有用。

计划任务管理的替代方法是[cron](docs/linux/usage/cron.md)。

## 编辑rc.local

在您的Pi上，使用您选择的编辑器编辑文件`/etc/rc.local`。 您必须使用root进行编辑，例如：

```bash
sudo nano /etc/rc.local
```

在注释下方添加命令，但在末尾保留`exit 0`行，然后保存文件并退出。

### 警告

如果您的命令连续运行（可能运行无限循环）或可能不退出，则必须确保通过在命令末尾添加一个`＆`符号来分叉该过程，如下所示：

```bash
python3 /home/pi/myscript.py &
```

否则，脚本将不会结束，树莓派也不会启动。`＆`符号允许命令在单独的进程中运行，并在进程运行时继续引导。

另外，请确保引用绝对文件名而不是相对于您的主文件夹；例如`/home/pi/myscript.py`而不是`myscript.py`。

还有一点要注意的是，所有命令都将由`root`用户执行。这可能导致意外的行为：例如，如果在脚本中通过`mkdir`命令创建了文件夹，则该文件夹将具有`root`所有权，除`root`用户以外的任何人都无法访问。
